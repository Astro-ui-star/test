local Keybind = Enum.KeyCode.C
local enabled = true
local prediction = 0.129331234



local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local Client = Players.LocalPlayer
local Mouse = Client:GetMouse()
local Camera = workspace.CurrentCamera

local AimbotTarget = nil

GetClosestToMouse = function()
    local Target, Closest = nil, 1 / 0

    for _, v in pairs(Players:GetPlayers()) do
        if (v.Character and v ~= Client and v.Character:FindFirstChild("HumanoidRootPart")) then
            local Position, OnScreen = Camera:WorldToScreenPoint(v.Character.HumanoidRootPart.Position)
            local Distance = (Vector2.new(Position.X, Position.Y) - Vector2.new(Mouse.X, Mouse.Y)).Magnitude

            if (Distance and Distance < Closest and OnScreen) then
                Closest = Distance
                Target = v
            end
        end
    end
    return Target
end

UserInputService.InputBegan:Connect(function(key)
    if key.KeyCode == Keybind and enabled == true then
        if AimbotTarget == nil then
            AimbotTarget = GetClosestToMouse()
        elseif AimbotTarget ~= nil then
            AimbotTarget = nil
        end
    end    
end)


RunService.RenderStepped:Connect(function(deltatime)
    if AimbotTarget ~= nil and AimbotTarget.Character then
        Camera.CFrame = CFrame.new(Camera.CFrame.p, AimbotTarget.Character.HumanoidRootPart.Position+AimbotTarget.Character.HumanoidRootPart.Velocity*prediction)
        
    end
